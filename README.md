## Как это работает

1.  Приложение запускается, принимая один URL в качестве аргумента командной строки (`-u`).
2.  Оно запускает экземпляр браузера (с помощью `chromedp`) и переходит по предоставленному URL.
3.  Извлекает заголовок документа со страницы.
4.  Находит первую ссылку в оглавлении и кликает по ней.
5.  На новой странице собирает все доступные ссылки (`<a>` теги).
6.  Затем перебирает эти ссылки, переходя по каждой из них.
7.  Для каждой страницы проверяет, принадлежит ли URL страницы тому же базовому документу, что и исходный URL (путем сопоставления части URL `cons_doc_LAW_{n}/`).
8.  Первая ссылка, удовлетворяющая этому условию, считается целевой. Приложение сохраняет ее исходный атрибут `href`.
9.  Наконец, оно выводит JSON-объект в стандартный вывод, содержащий исходный URL, заголовок документа и найденную целевую ссылку.

## Требования

-   Go (версия 1.21 или новее)
-   Установленный Google Chrome или Chromium.

## Как запустить

1.  **Клонируйте репозиторий или создайте файлы:**
    Поместите все файлы из этого проекта в каталог с именем `cons_parser`.

2.  **Установите зависимости:**
    Откройте терминал, перейдите в каталог `cons_parser` и выполните:
    ```sh
    go mod tidy
    ```
    Это загрузит все необходимые библиотеки, определенные в `go.mod`.

3.  **Запустите приложение:**
    Выполните программу из корня каталога `cons_parser`, передав целевой URL с флагом `-u`.

    **Пример:**
    ```sh
    go run ./cmd/main.go -u "https://www.consultant.ru/document/cons_doc_LAW_34823/"
    ```

4.  **Вывод:**
    Программа будет логировать свой прогресс в терминале. В случае успеха она выведет JSON-объект в конце своего выполнения, например:

    ```json
    {
      "rootUrl": "https://www.consultant.ru/document/cons_doc_LAW_34823/",
      "doc_name": "Федеральный закон \"Об охране окружающей среды\" от 10.01.2002 N 7-ФЗ",
      "sec_url": "https://www.consultant.ru/document/cons_doc_LAW_34823/8c7b8def3332a4bd703e3532a8808a5c45a364fb/"
    }
    ```
    *(Примечание: `sec_url` может отличаться в зависимости от содержимого страницы на момент выполнения.)*